<!-- <div class="grid grid-cols-2 grid-rows-2 gap-5">
  <div >1
  
    <form [formGroup]="empleadoForm">
      <div class="mb-4">
        <label for="matricula" class="block text-gray-700">Matrícula</label>
        <input id="matricula" formControlName="matricula" class="mt-1 block w-full" type="text">
      </div>
      <button type="button" (click)="buscarEmpleado()" class="bg-blue-500 text-white px-4 py-2 rounded mb-4">Buscar</button>
      
      <div class="mb-4">
        <label for="nombre" class="block text-gray-700">Nombre</label>
        <input id="nombre" formControlName="nombre" class="mt-1 block w-full" type="text">
      </div>
      <div class="mb-4">
        <label for="correo" class="block text-gray-700">Correo</label>
        <input id="correo" formControlName="correo" class="mt-1 block w-full" type="email">
      </div>
      <div class="mb-4">
        <label for="edad" class="block text-gray-700">Edad</label>
        <input id="edad" formControlName="edad" class="mt-1 block w-full" type="number">
      </div>
      <div class="mb-4">
        <label for="horas" class="block text-gray-700">Horas trabajadas</label>
        <input id="horas" formControlName="horas" class="mt-1 block w-full" type="number">
      </div>
      <button type="button" (click)="modificarEmpleado()" class="bg-yellow-500 text-white px-4 py-2 rounded">Modificar Empleado</button>
      <button type="button" (click)="eliminarEmpleado()" class="bg-red-500 text-white px-4 py-2 rounded ml-2">Eliminar Empleado</button>
      <button type="submit" (click)="onSubmit()" class="bg-green-500 text-white px-4 py-2 rounded ml-2">Registrar</button>
    </form>
  </div>
  <div >2
    <table class="min-w-full mt-6">
      <thead>
        <tr>
          <th class="px-4 py-2">Matrícula</th>
          <th class="px-4 py-2">Nombre</th>
          <th class="px-4 py-2">Correo</th>
          <th class="px-4 py-2">Edad</th>
          <th class="px-4 py-2">Horas trabajadas</th>
          <th class="px-4 py-2">Pago por horas normales</th>
          <th class="px-4 py-2">Pago por horas extras</th>
          <th class="px-4 py-2">Pago total</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let empleado of empleados">
          <td class="border px-4 py-2">{{ empleado.matricula }}</td>
          <td class="border px-4 py-2">{{ empleado.nombre }}</td>
          <td class="border px-4 py-2">{{ empleado.correo }}</td>
          <td class="border px-4 py-2">{{ empleado.edad }}</td>
          <td class="border px-4 py-2">{{ empleado.horas }}</td>
          <td class="border px-4 py-2">{{ calcularPagoNormal(empleado.horas) }}</td>
          <td class="border px-4 py-2">{{ calcularPagoExtra(empleado.horas) }}</td>
          <td class="border px-4 py-2">{{ calcularPagoTotal(empleado.horas) }}</td>
        </tr>
        <tr>
          <td colspan="7" class="border px-4 py-2 text-right font-bold">Total a Pagar</td>
          <td class="border px-4 py-2 font-bold">{{ calcularTotalPagar() }}</td>
        </tr>
      </tbody>
    </table>
</div>


</div>





import { CommonModule } from '@angular/common';
import { Component, OnInit } from '@angular/core';
import { FormBuilder, FormGroup, ReactiveFormsModule } from '@angular/forms';

interface Empleado {
  matricula: string;
  nombre: string;
  correo: string;
  edad: number;
  horas: number;
}

@Component({
  selector: 'app-empleados',
  standalone: true,
  imports: [ReactiveFormsModule, CommonModule],
  templateUrl: './empleados.component.html',
  styles: [``]
})
export default class EmpleadosComponent implements OnInit {
  empleadoForm!: FormGroup;
  empleados: Empleado[] = [];

  constructor(private fb: FormBuilder) {}

  ngOnInit(): void {
    this.empleadoForm = this.fb.group({
      matricula: [''],
      nombre: [''],
      correo: [''],
      edad: [''],
      horas: ['']
    });
    this.cargarEmpleados();
  }

  cargarEmpleados(): void {
    const empleadosGuardados = localStorage.getItem('empleados');
    if (empleadosGuardados) {
      this.empleados = JSON.parse(empleadosGuardados);
    }
  }

  guardarEmpleados(): void {
    localStorage.setItem('empleados', JSON.stringify(this.empleados));
  }

  onSubmit(): void {
    const nuevoEmpleado: Empleado = this.empleadoForm.value;
    this.empleados.push(nuevoEmpleado);
    this.guardarEmpleados();
    this.empleadoForm.reset();
  }

  buscarEmpleado(): void {
    const matricula = this.empleadoForm.get('matricula')?.value;
    const empleado = this.empleados.find(e => e.matricula === matricula);
    if (empleado) {
      this.empleadoForm.patchValue(empleado);
    }
  }

  modificarEmpleado(): void {
    const matricula = this.empleadoForm.get('matricula')?.value;
    const index = this.empleados.findIndex(e => e.matricula === matricula);
    if (index !== -1) {
      this.empleados[index] = this.empleadoForm.value;
      this.guardarEmpleados();
      this.empleadoForm.reset();
    }
  }

  eliminarEmpleado(): void {
    const matricula = this.empleadoForm.get('matricula')?.value;
    this.empleados = this.empleados.filter(e => e.matricula !== matricula);
    this.guardarEmpleados();
    this.empleadoForm.reset();
  }

  calcularPagoNormal(horas: number): number {
    const tarifaNormal = 70;
    const horasNormales = Math.min(horas, 40);
    return horasNormales * tarifaNormal;
  }

  calcularPagoExtra(horas: number): number {
    const tarifaExtra = 140;
    const horasExtras = Math.max(horas - 40, 0);
    return horasExtras * tarifaExtra;
  }

  calcularPagoTotal(horas: number): number {
    return this.calcularPagoNormal(horas) + this.calcularPagoExtra(horas);
  }

  calcularTotalPagar(): number {
    return this.empleados.reduce((total, empleado) => total + this.calcularPagoTotal(empleado.horas), 0);
  }
} -->
